import{s as d,t as u,v as m,d as l,e as k,o as n,c as s,x as _,_ as p,F as f,h,b as v,j as b,T as y,a as B}from"./gameserver-1c2982e3.js";function g(c){return d({className:c.className,context:c.context,remove:c.remove,onClicked:m(null)})}class x{constructor(){this.backdrops=[]}push(e){const t=window.innerWidth-document.body.clientWidth,r=g({...e,remove:()=>i.remove(r)});return this.backdrops.push(r),document.body.classList.add("backdrop-active"),document.body.style.marginRight=t+"px",document.querySelectorAll(".backdrop-affected").forEach(o=>{o instanceof HTMLElement&&(o.style.paddingRight=t+"px")}),r}checkBackdrops(){this.backdrops.length===0&&(document.body.classList.remove("backdrop-active"),document.body.style.marginRight="",document.querySelectorAll(".backdrop-affected").forEach(e=>{e instanceof HTMLElement&&(e.style.paddingRight="")}))}remove(e){u(this.backdrops,t=>t===e),this.checkBackdrops()}}const i=d(new x),A=l({__name:"AppBackdrop",props:{controller:{type:Object,required:!0}},setup(c){const e=c,t=k(()=>e.controller.className);function r(){var o,a;(a=(o=e.controller).onClicked)==null||a.call(o)}return(o,a)=>(n(),s("div",{class:_(["backdrop",t.value]),onClick:r},null,2))}});const C=p(A,[["__scopeId","data-v-4d1e5058"],["__file","AppBackdrop.vue"]]),E=l({__name:"AppBackdropPortal",setup(c){function e(t){return t.context?t.context:"body"}return(t,r)=>(n(),s("div",null,[(n(!0),s(f,null,h(B(i).backdrops,(o,a)=>(n(),v(y,{key:a,to:e(o)},[b(C,{controller:o},null,8,["controller"])],8,["to"]))),128))]))}}),N=p(E,[["__file","AppBackdropPortal.vue"]]);export{N as default};
