import{d as C,v as n,y,e as p,z as x,B as T,C as b,o as g,b as k,w as E,c as L,D as _,a as d,E as R,i as q,G as A,H as S,m as z,I as D,_ as H}from"./gameserver-1c2982e3.js";const I=500,N=200,V=C({__name:"AppLoadingBar",setup(G){const i=n(!1),e=n(0),o=n(0),u=n(!1);let t,s;const a=y(),f=p(()=>e.value?o.value/e.value*100:0),l=p(()=>x.loadingBarRequests.value);T(()=>{a==null||a.beforeEach((h,m,c)=>{i.value&&r(),i.value=!0,v(),c()}),a==null||a.beforeResolve((h,m,c)=>{i.value=!1,r(),c()})});function v(){s&&(clearTimeout(s),s=void 0),t||w(),++e.value}function r(){++o.value,o.value>=e.value&&B()}function w(){t=setTimeout(()=>{u.value=!0},I)}function B(){t&&(clearTimeout(t),t=void 0),s=setTimeout(()=>{e.value=0,o.value=0,u.value=!1},N)}return b(l,()=>{l.value>e.value?v():l.value<e.value&&r(),e.value=l.value}),(h,m)=>(g(),k(D,null,{default:E(()=>[f.value>0&&u.value?(g(),L("div",{key:0,class:"loading-bar anim-fade-enter anim-fade-leave",style:_({position:"fixed",top:0,left:0,right:0,height:"3px",pointerEvents:"none",zIndex:d(R)})},[q("div",{class:"loading-bar-bar",style:_({...d(A)("highlight"),width:f.value+"%",height:"3px",transition:`width 300ms ${d(S)}`,willChange:"width"})},null,4)],4)):z("",!0)]),_:1}))}}),O=H(V,[["__file","AppLoadingBar.vue"]]);export{O as default};
